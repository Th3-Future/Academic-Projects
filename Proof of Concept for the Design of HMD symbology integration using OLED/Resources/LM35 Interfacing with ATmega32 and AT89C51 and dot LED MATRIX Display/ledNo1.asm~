ORG 0H
	MOV TMOD,#01H
	MOV R2,#11111110B
BACK:	MOV A,P1
COND1:  CJNE A,#01H,COND2
  MOV DPTR,#ONE
  LJMP MAIN
COND2: CJNE A,#02H,COND3
  MOV DPTR,#TWO
  LJMP MAIN
COND3: CJNE A,#03,COND4
  MOV DPTR,#THREE
  LJMP MAIN
COND4: CJNE A,#04H,COND5
  MOV DPTR,#FOUR
  LJMP MAIN
COND5: CJNE A,#05H,COND6
  MOV DPTR,#FIVE
  LJMP MAIN
COND6: CJNE A,#06H,COND7
  MOV DPTR,#SIX
  LJMP MAIN
COND7: CJNE A,#07H,COND8
  MOV DPTR, #SEVEN
  LJMP MAIN
COND8: CJNE A,#08H,COND9
  MOV DPTR, #EIGHT
  LJMP MAIN
COND9: CJNE A,#09H,COND10
  MOV DPTR,#NINE
  LJMP MAIN
COND10: CJNE A,#0AH,COND11
  MOV DPTR,#TEN
  LJMP MAIN
COND11: CJNE A,#0BH,COND12
  MOV DPTR, #ELEVEN
  LJMP MAIN
COND12: CJNE A,#0CH,COND13
  MOV DPTR, #TWELVE
  LJMP MAIN
COND13: CJNE A,#0DH,COND14
  MOV DPTR, #THIRTEEN
  LJMP MAIN
COND14: CJNE A,#0EH,BACK
  MOV DPTR, #FOURTEEN
ORG 0CFH
MAIN:	MOV R3,#0FAH
LOOP1:	MOV R4,#08H
LOOP:	MOV A,R2
	MOV P3,A
	RL A
	MOV R2,A
	MOV A,R4
	MOVC A,@A+DPTR
	MOV P2,A
	ACALL DELAY
	DJNZ R4,LOOP
	DJNZ R3,LOOP1
	LJMP BACK
DELAY:	MOV TH0,#0FFH
	MOV TL0,#0
	SETB TR0
HERE:	JNB TF0,HERE
	CLR TR0
	CLR TF0
	RET
ORG 0FFH
ONE:DB 00000000B,00000111B,00000101B,00000111B,01000000B,11000000B,1000000B,01000000B,11100000B
TWO:DB 0x0,0x07,0x05,0x07,0xe0,0x20,0xe0,0x80,0xe0
THREE:DB 0x0,0x7,0x5,0x7,0xe0,0x20,0xe0,0x20,0xe0
FOUR:DB 0x0,0x07,0x05,0x07,0xa0,0xa0,0xe0,0x20,0x20
FIVE:DB 0x0,0x07,0x05,0x07,0xe0,0x80,0xe0,0x20,0xe0
SIX:DB 0x0,0x07,0x05,0x07,0xe0,0x80,0xe0,0xa0,0xe0
SEVEN:DB 0x0,0x07,0x05,0x07,0xe0,0x20,0x20,0x20,0x20
EIGHT:DB 0x0,0x07,0x05,0x07,0xe0,0xa0,0xe0,0xa0,0xe0
NINE:DB 0x0,0x07,0x05,0x07,0xe0,0xa0,0xe0,0x20,0xe0
TEN:DB 0x0,0x07,0x05,0x07,0x5c,0xd4,0x54,0x54,0x5c
ELEVEN:DB 0x0,0x07,0x05,0x07,0x48,0xd8,0x48,0x48,0x48
TWELVE:DB 0x0,0x07,0x05,0x07,0x5c,0xc4,0x5c,0x50,0x5c
THIRTEEN:DB 0x0,0x07,0x05,0x07,0x5c,0xc4,0x5c,0x44,0x5c
FOURTEEN:DB 0x0,0x07,0x05,0x07,0x54,0xd4,0x5c,0x44,0x44
FIFTEEN:DB 0x0,0x07,0x05,0x07,0x5c,0xd0,0x5c,0x44,0x5c
SIXTEEN:DB 0x0,0x07,0x05,0x07,0x5c,0xd0,0x5c,0x54,0x5c
SEVENTEEN:DB 0x0,0x07,0x05,0x07,0x5c,0xc4,0x44,0x44,0x44
EIGHTEEN:DB 0x0,0x07,0x05,0x07,0x5c,0xd4,0x5c,0x54,0x5c
NINETEEN:DB 0x0,0x07,0x05,0x07,0x5c,0xd4,0x5c,0x44,0x5c
TWENTY:DB 0x0,0x07,0x05,0x07,0xee,0x2a,0xea,0x8a,0xee
END
